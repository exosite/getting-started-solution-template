# Expose this solution as a Murano service and enable solution-to-solution communication
# Doc: http://docs.exosite.com/reference/services/interface
name: my custom service

parameters:
  - name: token
    # type: string by default
    maxLength: 200
    description: |
      An example configuration parameters to be provided by consumer settings
      This will be automatically displayed on the consumer solution service configuration page.

operations:
- name: myOp
  description: |
    An operation usable by subscribers.
    The script handling this call is done in the interface myOp.lua handler.
  parameters:
    type: object
    description: payload
    properties:
      token:
        type: string
        x-exosite-restricted: true # -> cannot be provided from scripting
        description: |
          The value of the token configured in the subscriber service config
          as defined by above parameters.
      message:
        type: string
        description: Some message

events:
- name: myEvent
  description: |
    Event to subscribers you can trigger with
    Interface.trigger({event = "myEvent", data = "hello"})
    In this template triggered in 'scripts_asyncJob.lua'
